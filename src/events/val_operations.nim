###################################################################################################################################################
##################################################################### VALUE OPERATIONS ############################################################
###################################################################################################################################################

template map2*[T,L](n1:Notifier[T,L], fn, R) =
  notifier mapper(ret:R)
  enable_value(mapper)

  anoFunc(f, T, quote do:
    let res = (ret:fn(x,y))
    mapper.emit(res))
  
  n1.connect(f)

  #notif

template connector(n, val:varargs) =
  fn(n[], val)